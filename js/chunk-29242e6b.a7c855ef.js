(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29242e6b"],{"1dd8":function(t,e,n){},"1e39":function(t,e,n){"use strict";n("743a")},"240a":function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),o=n("577e"),r=n("5899"),s="["+r+"]",i=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t){return function(e){var n=o(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5cbe":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},"6e57":function(t,e,n){"use strict";n("240a")},"743a":function(t,e,n){},"81bc":function(t,e,n){"use strict";n("1dd8")},a3cf:function(t,e,n){"use strict";n("f1be")},a9e3:function(t,e,n){"use strict";var a=n("83ab"),o=n("da84"),r=n("94ca"),s=n("6eeb"),i=n("5135"),c=n("c6b6"),l=n("7156"),u=n("d9b5"),f=n("c04e"),d=n("d039"),p=n("7c73"),m=n("241c").f,h=n("06cf").f,b=n("9bf2").f,g=n("58a8").trim,v="Number",w=o[v],I=w.prototype,y=c(p(I))==v,k=function(t){if(u(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,a,o,r,s,i,c,l=f(t,"number");if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(r=l.slice(2),s=r.length,i=0;i<s;i++)if(c=r.charCodeAt(i),c<48||c>o)return NaN;return parseInt(r,a)}return+l};if(r(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var C,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(y?d((function(){I.valueOf.call(n)})):c(n)!=v)?l(new w(k(e)),n,_):k(e)},T=a?m(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;T.length>x;x++)i(w,C=T[x])&&!i(_,C)&&b(_,C,h(w,C));_.prototype=I,I.constructor=_,s(o,v,_)}},b3d7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("nav-bar",{staticClass:"home-navbar"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.showTab,expression:"showTab"}],staticClass:"tab-control-rep",attrs:{titleList:t.titleList,tabIndex:t.tabIndex},on:{tabClick:t.tabClick}}),n("scroll",{ref:"scroll",staticClass:"scrollDiv",on:{contentScroll:t.contentScroll,pullingUp:t.pullingUp}},[n("home-swiper",{attrs:{banners:t.banners},on:{swpImgLoad:t.swpImgLoad}}),n("recommend-view",{attrs:{recommend:t.recommend}}),n("feature-view"),n("tab-control",{ref:"tab",staticClass:"tab-control",attrs:{titleList:t.titleList,tabIndex:t.tabIndex},on:{tabClick:t.tabClick}}),n("goods-list",{attrs:{data:t.goods[t.contentType]},on:{imageLoad:t.imgLoaded}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backClick.apply(null,arguments)}}})],1)},o=[],r=n("6b75");function s(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var c=n("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return s(t)||i(t)||Object(c["a"])(t)||l()}var f=n("a7ac"),d=n("5d17"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{attrs:{isImgLoad:t.isImgLoad}},t._l(t.banners,(function(e,a){return n("swiper-item",{key:a},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:e.title},on:{load:t.imgLoad}})])])})),1)},m=[],h=n("dc2c"),b={data:function(){return{loadCounter:0,isImgLoad:!1}},props:{banners:{type:Array,default:[]}},components:{Swiper:h["a"],SwiperItem:h["b"]},methods:{imgLoad:function(){this.loadCounter++,this.loadCounter==this.banners.length&&(this.isImgLoad=!0,console.log("swiperimg loaded count"+this.loadCounter)),1==this.loadCounter&&this.$emit("swpImgLoad")}}},g=b,v=n("2877"),w=Object(v["a"])(g,p,m,!1,null,null,null),I=w.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},t._l(t.recommend,(function(e,a){return n("div",{key:a,staticClass:"recommend-item"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image}}),n("div",[t._v(t._s(e.title))])])])})),0)},k=[],C={props:{recommend:{type:Array,default:[]}}},_=C,T=(n("1e39"),Object(v["a"])(_,y,k,!1,null,"4c8a0e8f",null)),x=T.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"feature"},[a("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[a("img",{attrs:{src:n("5cbe"),alt:""}})])])}],E={},O=E,A=(n("6e57"),Object(v["a"])(O,L,N,!1,null,null,null)),S=A.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titleList,(function(e,a){return n("div",{key:a,staticClass:"tab-control-item",class:{active:a==t.currentIndex},on:{click:function(e){return t.itemClick(a)}}},[n("span",[t._v(t._s(e))])])})),0)},j=[],D=(n("a9e3"),{data:function(){return{currentIndex:0}},props:{titleList:{type:Array,default:[]},tabIndex:{type:Number,default:0}},watch:{tabIndex:function(t,e){this.currentIndex=t}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}}),G=D,F=(n("a3cf"),Object(v["a"])(G,$,j,!1,null,"25039304",null)),R=F.exports,U=n("45f9"),B=n("4c3c"),M=n("1bab");function V(){return Object(M["a"])({url:"/home/multidata"})}function P(t,e){return Object(M["a"])({url:"/home/data",params:{type:t,page:e}})}var H=n("90b9");console.log("cxx --- ");var z={name:"home",data:function(){return{banners:[],recommend:[],titleList:["流行","新款","精选"],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},contentType:"pop",typeList:["pop","new","sell"],showBackTop:!1,tabOffset:625,tabIndex:0,showTab:!1}},components:{NavBar:f["a"],HomeSwiper:I,RecommendView:x,FeatureView:S,TabControl:R,goodsList:U["a"],Scroll:d["a"],backTop:B["a"]},created:function(){this.getHomeMultiData(),this.loadGoodsData("pop"),this.loadGoodsData("new"),this.loadGoodsData("sell")},mounted:function(){this.newRefresh=Object(H["a"])(this.$refs.scroll.refresh)},methods:{getHomeMultiData:function(){var t=this;V().then((function(e){t.banners=e.data.banner.list,t.recommend=e.data.recommend.list}))},loadGoodsData:function(t){var e=this,n=this.goods[t].page+1;P(t,n).then((function(n){var a;(a=e.goods[t].list).push.apply(a,u(n.data.list)),e.goods[t].page++}))},imgLoaded:function(){this.$refs.scroll.refresh(),this.goods[this.contentType].page>1&&(this.$refs.scroll.finishPullUp(),console.log("imgloaded finishPullUp"))},swpImgLoad:function(){var t=this;setTimeout((function(){t.tabOffset=t.$refs.tab.$el.offsetTop}),100)},tabClick:function(t){this.contentType=this.typeList[t],this.$refs.scroll.scrollTo(0,-this.tabOffset),this.tabIndex=t},backClick:function(){this.$refs.scroll.scrollTo(0,0)},pullingUp:function(){this.loadGoodsData(this.contentType)},contentScroll:function(t){-t.y<1e3?this.showBackTop=!1:this.showBackTop=!0,-t.y>this.tabOffset?this.showTab=!0:this.showTab=!1},newRefresh:function(){}}},J=z,X=(n("81bc"),Object(v["a"])(J,a,o,!1,null,"47cef324",null));e["default"]=X.exports},f1be:function(t,e,n){}}]);
//# sourceMappingURL=chunk-29242e6b.a7c855ef.js.map